<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>

<head>

<title>MTurk Study</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<link href="styles.css" rel="stylesheet" type="text/css">
<script type="text/javascript" src="jquery-1.8.2.js"></script>
<script type="text/javascript" src="lib.js"></script>
<script type="text/javascript" src="game.js"></script>
<script type="text/javascript" src="interruption.js"></script>
<style type="text/css"></style>
</head>
<body>

<!-- Logging script -->
<script type="text/javascript" src="http://cloudfront.loggly.com/js/loggly.tracker-2.1.min.js" async></script>
<script>
    var _LTracker = _LTracker || [];
    _LTracker.push({'logglyKey': '08bf61ef-effa-4909-965a-5793ba2718fd',
    'sendConsoleErrors' : true,
    'tag' : 'interruption-study'  });
</script>
           
<script type="text/javascript">

$(document.body).on('updateGameScore', function (e, size) {
  $("#size").text("Game Score: " + (size-1));
});

$(document.body).on('updateScore', function (e, score) {
  $("#score").text("Total Score: " + score);
});

getSession();

tasks();

function showRoom(room) {
$("#bedroom").toggle(room == 'bedroom');
$("#kitchen").toggle(room == 'kitchen');
$("#livingroom").toggle(room == 'livingroom');
$("#bathroom").toggle(room == 'bathroom');
$("#game").toggle(room == 'game');
$("#doors").toggle(room == 'game');
$("#instructions").toggle(room == 'game');
$("#back").toggle(room != 'game');
}

$(document).ready(function(){

$("#bedroom_door").click(function() {
showRoom('bedroom');

_LTracker.push({
'session': sessionID,
'event': 'enter-bedroom',
'score': score,
});
});

$("#kitchen_door").click(function() {
showRoom('kitchen');


_LTracker.push({
'session': sessionID,
'event': 'enter-kitchen',
'score': score,
});
});

$("#livingroom_door").click(function() {
showRoom('livingroom');

_LTracker.push({
'session': sessionID,
'event': 'enter-livingroom',
'score': score,
});
});

$("#bathroom_door").click(function() {
showRoom('bathroom');


_LTracker.push({
'session': sessionID,
'event': 'enter-bathroom',
'score': score,
});
});

$("#back_button").click(function() {
showRoom('game');


_LTracker.push({
'session': sessionID,
'event': 'enter-gameroom',
'score': score,
});
});

});

</script>

<div id="scorebox">
  <p id="score">Total Score: 0</p>
</div>

<div id="game">
  <p id="size">Game Score: 0</p>
  <canvas id="canvas" width="400" height="400" onclick="gamerun()"
  style="background-color: black; text-align: center;"></canvas>
  <p id="dead">You died! Click to restart.</p>
</div>


<div id="instructions">
  <h2>Instructions</h2>
  <p>You will be performing different activities, all of which will
  contribute to your final Total Score.</p>

  <h3>Snake</h3>
  <p>Your first job is to play a game of Snake to get points.</p>
  <p>Click the black box to start, pause, and restart the game. Use
  the arrow keys to move the "snake". Try to "eat" as much red food as
  possible without hitting the edges or yourself.</p>
  <p>If you navigate to a different room, the state of the game will
  persist even if you can't see it.</p>
  
  <h3>Tasks</h3>
  <p>Every so often, the notification system will instruct you to
  complete various household tasks. These tasks all involve clicking a
  button or combination of buttons in the rooms of the
  house. Completing the tasks will also give you points.</p>
  <p>For example, if it says "microwave the frozen dinner," you would
  have to go to the kitchen and click the freezer and the microwave. Part of the challenge if figuring out what to click and
  in what order.</p>
  <p>Different tasks will have different time limits. Some must happen
  right away, some must happen in the next minute, and others can be
  accomplished at any time. The notification will indicate how much
  time you have.</p>
</div>

<div id="doors">
  <button class="door" id="bedroom_door">Bedroom</button>
  <button class="door" id="kitchen_door">Kitchen</button>
  <button class="door" id="livingroom_door">Living Room</button>
  <button class="door" id="bathroom_door">Bathroom</button>
</div>

<div id="back">
  <button class="backbutton" id="back_button"
 >Return to game</button>
  <p id="artcredit">Art thanks to <a
  href="https://openclipart.org/user-detail/Viscious-Speed" target="_blank">
  Viscious-Speed</a></p>
</div>

<div id="bedroom"  class="room">
  <button class="roombutton" id="chestleft" onClick="falseTouch('chestLeft')"></button>
  <button class="roombutton" id="chestright" onClick="falseTouch('chestRight')"></button>
  <button class="roombutton" id="alarmclock" onClick="falseTouch('alarmclock')"></button>
  <button class="roombutton" id="bed" onClick="touch(bed)"></button>
  <button class="roombutton" id="pillow1" onClick="touch(pillow1)"></button>
  <button class="roombutton" id="pillow2" onClick="touch(pillow2)"></button>
  <button class="roombutton" id="phone_bedroom" onClick="touch(phone)"></button>
  <button class="roombutton" id="window" onClick="falseTouch('window')"></button>
  <button class="roombutton" id="mirror" onClick="falseTouch('mirror')"></button>
  <button class="roombutton" id="luggage" onClick="falseTouch('luggage')"></button>
</div>

<div id="kitchen"  class="room">
  <button class="roombutton" id="dishwasher" onClick="touch(dishwasher)"></button>
  <button class="roombutton" id="cabinet" onClick="touch(cabinet)"></button>
  <button class="roombutton" id="stove" onClick="falseTouch('stove')"></button>
  <button class="roombutton" id="cuttingboard" onClick="touch(cuttingboard)"></button>
  <button class="roombutton" id="knife" onClick="touch(knife)"></button>
  <button class="roombutton" id="fridge" onClick="touch(fridge)"></button>
  <button class="roombutton" id="freezer" onClick="falseTouch('freezer')"></button>
  <button class="roombutton" id="plant1" onClick="touch(plant1)"></button>
  <button class="roombutton" id="microwave" onClick="falseTouch('microwave')"></button>
  <button class="roombutton" id="toaster" onClick="touch(toast)"></button>
  <button class="roombutton" id="kettle" onClick="falseTouch('kettle')"></button>
  <button class="roombutton" id="sink" onClick="falseTouch('sink')"></button>
  <button class="roombutton" id="soap" onClick="falseTouch('soal')"></button>
  <button class="roombutton" id="littlepot" onClick="touch(littlepot)"></button>
  <button class="roombutton" id="bigpot" onClick="falseTouch('bigpot')"></button>
</div>

<div id="livingroom"  class="room">
  <button class="roombutton" id="grandfatherclock" onClick="touch(grandfatherclock)"></button>
  <button class="roombutton" id="phone_livingroom" onClick="touch(phone)"></button>
  <button class="roombutton" id="fire" onClick="touch(fire)"></button>
  <button class="roombutton" id="pictureframe" onClick="falseTouch('pictureframe')"></button>
  <button class="roombutton" id="books" onClick="falseTouch('books')"></button>
  <button class="roombutton" id="speaker" onClick="falseTouch('speaker')"></button>
  <button class="roombutton" id="television" onClick="falseTouch('television')"></button>
  <button class="roombutton" id="plant2" onClick="touch(plant2)"></button>
  <button class="roombutton" id="plant3" onClick="touch(plant3)"></button>
</div>

<div id="bathroom"  class="room">
  <button class="roombutton" id="toiletbrush" onClick="touch(toiletbrush)"></button>
  <button class="roombutton" id="toilet" onClick="touch(toilet)"></button>
  <button class="roombutton" id="shampoo" onClick="falseTouch('shampoo')"></button>
  <button class="roombutton" id="bathtub" onClick="falseTouch('bathtub')"></button>
  <button class="roombutton" id="bathrobe" onClick="falseTouch('bathrobe')"></button>
  <button class="roombutton" id="toothbrush" onClick="falseTouch('toothbrush')"></button>
  <button class="roombutton" id="hairdryer" onClick="falseTouch('hairdryer')"></button>
  <button class="roombutton" id="leftsink" onClick="falseTouch('leftsink')"></button>
  <button class="roombutton" id="rightsink" onClick="falseTouch('rightsink')"></button>
  <button class="roombutton" id="medicine" onClick="touch(medicine)"></button>
  <button class="roombutton" id="plant4" onClick="touch(plant4)"></button>
  <button class="roombutton" id="plant5" onClick="touch(plant5)"></button>
  <button class="roombutton" id="plant6" onClick="touch(plant6)"></button>
</div>




</body></html>
